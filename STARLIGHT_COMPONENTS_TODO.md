# Starlightスタイルコンポーネント 実装TODO

このドキュメントは、Starlightスタイルコンポーネントの実装と改善に関するTODOリストです。

## 目次

- [凡例](#凡例)
- [実装状況サマリー](#実装状況サマリー)
- [コンポーネント別TODO](#コンポーネント別todo)
  - [Alert](#alert)
  - [Button](#button)
  - [Card](#card)
  - [Footer](#footer)
  - [Navigation](#navigation)
  - [Sidebar](#sidebar)
  - [SearchBar & SearchResults](#searchbar--searchresults)
  - [VersionSelector & VersionDiff](#versionselector--versiondiff)
  - [LanguageSelector](#languageselector)
  - [ContentPanel](#contentpanel)
  - [Banner](#banner)
  - [TableOfContents](#tableofcontents)
  - [EditLink](#editlink)
  - [Pagination](#pagination)
  - [Hero](#hero)
  - [AnchorHeading](#anchorheading)
  - [ContentNotice](#contentnotice)
  - [TwoColumnContent](#twocolumncontent)
  - [ThemeToggle](#themetoggle)
  - [Tabs](#tabs)
  - [Icon](#icon)

## 凡例

- [ ] 未着手
- [x] 完了
- [&#x7e;] 進行中

## 実装状況サマリー

### 完了したコンポーネント
- ContentPanel: 基本構造の実装、レスポンシブデザイン対応
- Banner: 基本構造の実装、複数のバナータイプのスタイル設定、閉じるボタン機能
- TableOfContents: 基本構造の実装、アクティブな見出しのハイライト機能、モバイル対応
- EditLink: 基本構造の実装、編集URLの生成ロジック、アイコンとスタイル設定
- Pagination: 基本構造の実装、前後ページデータの取得ロジック、レスポンシブデザイン
- ContentNotice: 基本構造の実装、複数の通知タイプのスタイル設定、アイコンの追加
- TwoColumnContent: 基本構造の実装、レスポンシブデザイン、カラム幅の設定オプション
- ThemeToggle: 基本構造の実装、ローカルストレージ連携、アニメーション実装
- Tabs: 基本構造の実装、タブ切り替え機能、キーボードナビゲーション、ローカルストレージによる状態保存
- AnchorHeading: 基本構造の実装、アンカーリンクのインタラクション、URLコピー機能
- Hero: 基本構造の実装、背景画像/グラデーションオプション、レスポンシブデザイン
- LinkCard: リンクカードの実装、ホバーエフェクト
- CardGrid: カードグリッドレイアウトの実装
- Icon: アイコンコンポーネントの実装、SVGパスデータの定義、サイズ・色のカスタマイズ対応

### 改善が必要なコンポーネント
- VersionSelector & VersionDiff: バージョン間の視覚的な差分表示、最新バージョンの強調表示など
- LanguageSelector: 言語名のネイティブ表示、言語アイコン/フラグの追加など

## コンポーネント別TODO

### Alert

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] アイコンの追加（情報、成功、警告、エラーに対応するアイコン）
- [x] 角丸のデザイン調整
- [x] 背景色とテキスト色のコントラスト改善
- [x] アクセシビリティの向上（適切なARIAロール追加）
- [x] Starlightのアイコンセットを参考にアイコンを追加
- [x] CSSの調整（角丸、余白、フォントサイズ）
- [x] ダークモード対応の色設定
- [x] スクリーンリーダー対応の強化（aria-live属性の追加）
- [ ] アラートの自動消滅オプションの追加
- [ ] アラートグループのサポート（複数アラートの効率的な表示）
- [ ] カスタムアイコンのサポート

### Button

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] ホバー/フォーカス状態のアニメーション改善
- [x] アイコン付きボタンのサポート強化
- [ ] ボタングループのサポート追加
- [x] アクセシビリティの向上
- [x] CSSトランジションの追加
- [x] アイコン配置のフレキシブル化
- [ ] ボタングループコンポーネントの追加検討
- [ ] ローディング状態の表示オプション
- [x] ボタンサイズバリエーションの追加（小、中、大）
- [x] アウトラインスタイルの改善
- [x] ボタン内のテキスト配置オプションの追加

### Card

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] リンクカードのサポート追加
- [x] カードグリッドレイアウトのサポート
- [x] アクセント色のカスタマイズオプション
- [x] ホバーエフェクトの改善
- [x] リンクラッパーの追加
- [x] グリッドレイアウト用のコンテナコンポーネント検討
- [x] CSSカスタムプロパティの拡張
- [ ] カードの高さ揃えオプション
- [ ] カード内の画像表示の最適化
- [x] カードフッターのスタイリング改善
- [x] カードグループ内での等間隔配置の実装

### Footer

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] レスポンシブデザインの改善
- [x] コピーライト情報の柔軟な配置
- [x] ソーシャルアイコンのデザイン更新
- [x] セクション区切りの視覚的改善
- [x] フレックスボックスレイアウトの調整
- [x] ソーシャルアイコンのSVG更新
- [x] モバイル表示の最適化
- [x] フッターのスティッキー配置オプション
- [ ] 多言語対応の強化
- [ ] フッターナビゲーションの階層構造サポート
- [ ] モバイルでの折りたたみメニューオプション
**詳細**:
  - ソーシャルアイコンのサポートを追加
  - レスポンシブデザインを強化し、モバイル表示を最適化
  - スティッキーフッターオプションを追加
  - 編集リンクとページネーションの統合をサポート
  - フレックスボックスレイアウトを調整し、コンテンツの配置を改善

### Navigation

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] スティッキーヘッダーの実装
- [x] モバイルメニューのアニメーション改善
- [x] アクティブ状態の視覚的強調
- [x] スクロール時の挙動改善
- [x] スクロールイベントリスナーの追加
- [x] モバイルメニュートグルのアニメーション実装
- [x] アクティブリンクのスタイル調整
- [ ] 検索バーとの統合改善
- [ ] 通知バッジのサポート
- [ ] 多階層メニューのアクセシビリティ改善
- [ ] スクロール進捗インジケーターの追加
**詳細**:
  - スティッキーヘッダーを実装し、スクロール時の背景色変更をサポート
  - モバイルメニューのアニメーションを改善し、スムーズな開閉を実現
  - アクティブ状態のリンクに視覚的な強調表示を追加
  - カスタムWebコンポーネントを使用したモバイルメニュートグルの実装
  - ソーシャルリンクのサポートを追加
  - レスポンシブデザインを強化し、モバイル/デスクトップ表示を最適化

### Sidebar

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] 折りたたみ/展開機能の改善
- [x] 現在のページのハイライト強化
- [x] スクロール位置の保存機能
- [x] モバイル表示の最適化
- [x] ローカルストレージを使用した状態保存の実装
- [x] アクティブ項目の視覚的強調
- [x] スクロール位置追跡の実装
- [x] タッチ操作の最適化
- [x] サイドバーの幅調整機能
- [x] ドラッグによる幅調整オプション
- [x] サイドバーの完全折りたたみ機能
- [x] セクション間の視覚的区切りの強化
**詳細**:
  - SidebarPersister、SidebarRestorePoint、SidebarResizerコンポーネントを追加
  - ローカルストレージを使用した状態保存機能を実装
  - 折りたたみ/展開状態の保存機能を追加
  - スクロール位置の保存と復元機能を実装
  - ドラッグによるサイドバー幅の調整機能を追加
  - サイドバーの完全折りたたみ機能を実装
  - アクティブ項目の視覚的強調表示を改善
  - モバイル表示の最適化とタッチ操作のサポートを強化

### SearchBar & SearchResults

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] キーボードショートカットのサポート（Ctrl+K/Cmd+K、/キーで検索フォーカス）
- [x] 検索結果のカテゴリ分け
- [x] 検索結果のハイライト表示
- [x] インクリメンタル検索の改善
- [x] キーボードイベントリスナーの追加
- [x] 検索結果表示のカテゴリ分けUI実装
- [x] テキストハイライト機能の追加
- [x] 検索アルゴリズムの最適化
- [x] モーダルダイアログUIの改善
- [x] 検索結果のプレビュー表示
- [ ] 検索履歴機能の追加
- [ ] 検索フィルターオプションの実装
- [ ] 検索結果のソート機能
**詳細**:
  - Starlightのデザインに合わせたモーダルダイアログUIを実装
  - キーボードショートカット（Ctrl+K/Cmd+K、/キー）のサポートを追加
  - 検索結果のカテゴリ分けとハイライト表示機能を実装
  - 検索結果のプレビュー表示を改善（抜粋表示）
  - インクリメンタル検索機能を強化（入力に応じてリアルタイム検索）
  - レスポンシブデザインを改善（モバイル/デスクトップ表示の最適化）
  - アクセシビリティを向上（スクリーンリーダー対応、キーボード操作）

### VersionSelector & VersionDiff

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] バージョン間の視覚的な差分表示の強化
- [x] 最新バージョンの強調表示
- [x] バージョン選択UIの改善
- [x] バージョン履歴の表示オプション
- [x] 差分表示アルゴリズムの改善
- [x] UIデザインの刷新
- [x] バージョン履歴コンポーネントの検討
- [x] バージョン間の変更点サマリー表示
- [x] バージョン選択時の変更点プレビュー
- [x] バージョンタグ（安定版、ベータ版など）の表示
- [x] バージョン切り替え時のアニメーション改善
**詳細**:
  - Starlightのデザインに合わせたUIを実装
  - 最新バージョンの強調表示機能を追加
  - バージョンタグ（最新、安定版、ベータ版、アルファ版、開発版）のサポートを追加
  - バージョン履歴表示機能を実装
  - バージョン切り替え時のアニメーションを改善
  - バージョン情報（リリース日、説明）の表示をサポート
  - ダークモード対応のスタイリングを実装
  - レスポンシブデザインを強化

### LanguageSelector

**現状**: Starlightスタイルに合わせて改善済み

**改善タスク**:
- [x] 言語名のネイティブ表示（例：English, 日本語）
- [x] 言語アイコン/フラグの追加オプション
- [x] モバイル表示の最適化
- [x] 言語切り替え時のアニメーション
- [x] 言語名マッピングの拡張
- [x] アイコン/フラグアセットの追加
- [x] CSSトランジションの実装
- [ ] 言語検索機能の追加
- [ ] 地域バリアントのサポート（例：英語（米国）、英語（英国））
- [x] 言語切り替え時の翻訳状態表示
- [ ] 最近使用した言語の優先表示
**詳細**:
  - Starlightのデザインに合わせたUIを実装
  - 言語名のネイティブ表示をサポート（例：English, 日本語）
  - 言語フラグアイコンを追加
  - 言語切り替え時のアニメーションを実装
  - バージョン情報を保持した言語切り替え機能を強化（404エラー防止）
  - 言語情報パネルの表示オプションを追加
  - ダークモード対応のスタイリングを実装
  - レスポンシブデザインを強化

---

### ContentPanel

**パス**: `packages/ui/src/components/ContentPanel.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] レスポンシブデザインの調整
- [x] コンテンツ幅の設定オプション追加
- [x] ボーダーオプションの追加

### Banner

**パス**: `packages/ui/src/components/Banner.astro`

**現状**: Starlightスタイルに合わせて改善済み

**タスク**:
- [x] 基本構造の実装
- [x] 複数のバナータイプのスタイル設定
- [x] 閉じるボタン機能の実装
- [x] Starlightのデザインに合わせたスタイル調整
- [x] ローカルストレージによる状態保存機能の追加
- [x] アクセシビリティの向上
**詳細**:
  - 情報、警告、成功、エラーなどの通知を表示するバナーコンポーネント
  - タイプに応じた色分けとダークモード対応
  - 閉じるボタン機能付き
  - ローカルストレージによる閉じた状態の保存

### TableOfContents

**パス**: `packages/ui/src/components/TableOfContents/TableOfContents.astro`

**現状**: Starlightスタイルに合わせて改善済み

**タスク**:
- [x] 基本構造の実装
- [x] 見出しデータの取得ロジック実装
- [x] アクティブな見出しのハイライト機能
- [x] モバイル対応の目次実装
- [x] Starlightのデザインに合わせたスタイル調整
- [x] アクセシビリティの向上
- [x] スクロール追跡の改善
**詳細**:
  - 目次を表示するコンポーネント
  - 見出しレベルの範囲指定が可能（minLevel, maxLevel）
  - スクロール時に現在の見出しをハイライト表示
  - モバイル対応のレスポンシブデザイン
  - Starlightの左側ボーダーデザインを採用
  - アクティブ項目の視覚的強調表示

### EditLink

**パス**: `packages/ui/src/components/EditLink.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] 編集URLの生成ロジック実装
- [x] アイコンとスタイルの設定
**詳細**:
  - GitHubなどでページを編集するためのリンクコンポーネント
  - 編集URLを柔軟に設定可能
  - 鉛筆アイコン付きのスタイリング
  - 印刷時に非表示

### Pagination

**パス**: `packages/ui/src/components/Pagination.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] 前後ページデータの取得ロジック実装
- [x] レスポンシブデザインの調整
**詳細**:
  - 前後のページへのナビゲーションコンポーネント
  - 前/次ページのタイトルを表示
  - RTL（右から左）言語のサポート
  - レスポンシブデザイン対応

### Hero

**パス**: `packages/ui/src/components/Hero.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] 背景画像/グラデーションオプション
- [x] レスポンシブデザインの調整
**詳細**:
  - ランディングページなどで使用するヒーローセクションコンポーネント
  - タイトル、サブタイトル、画像、アクションボタンをサポート
  - レスポンシブデザイン対応（モバイルとデスクトップで異なるレイアウト）

### AnchorHeading

**パス**: `packages/ui/src/components/AnchorHeading.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] アンカーリンクのインタラクション実装
- [x] URLコピー機能の実装
**詳細**:
  - アンカーリンク付きの見出しコンポーネント
  - h1〜h6までのレベル指定が可能
  - ホバー時にリンクアイコンを表示

### ContentNotice

**パス**: `packages/ui/src/components/ContentNotice.astro`

**現状**: Starlightスタイルに合わせて改善済み

**タスク**:
- [x] 基本構造の実装
- [x] 複数の通知タイプのスタイル設定
- [x] アイコンの追加
- [x] Starlightのデザインに合わせたスタイル調整
- [x] アクセシビリティの向上
**詳細**:
  - 下書き、非推奨、作業中、翻訳中などの状態を示す通知コンポーネント
  - アイコンと色分けでわかりやすく表示
  - 4種類の通知タイプをサポート（draft, deprecated, wip, translation）
  - Starlightの「aside」スタイルを採用

### TwoColumnContent

**パス**: `packages/ui/src/components/TwoColumnContent.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] レスポンシブデザインの調整
- [x] カラム幅の設定オプション追加
**詳細**:
  - 2カラムレイアウトを実現するコンポーネント
  - 左カラムの幅やカラム間のギャップをカスタマイズ可能
  - レスポンシブ対応（モバイルでは1カラム表示）

### ThemeToggle

**パス**: `packages/ui/src/components/ThemeToggle.astro`

**現状**: Starlightスタイルに合わせて実装済み

**タスク**:
- [x] 基本構造の実装
- [x] ローカルストレージ連携
- [x] アニメーション実装
**詳細**:
  - ライト/ダークモードを切り替えるボタンコンポーネント
  - アニメーション付きのアイコン切り替え
  - ローカルストレージによる設定保存機能
  - システムのカラースキーム変更検出機能

### Tabs

**パス**: `packages/ui/src/components/Tabs/Tabs.astro`

**現状**: Starlightスタイルに合わせて新規実装

**タスク**:
- [x] 基本構造の実装
- [x] タブ切り替え機能の実装
- [x] キーボードナビゲーションのサポート
- [x] アクセシビリティの向上
- [x] ローカルストレージによる状態保存機能
- [x] Starlightのデザインに合わせたスタイル調整
- [x] ダークモード対応
**詳細**:
  - タブ形式でコンテンツを切り替えて表示するコンポーネント
  - WAI-ARIAに準拠したアクセシブルな実装
  - キーボードでのタブ操作をサポート（矢印キー、Home、Endキー）
  - ローカルストレージによるタブ状態の保存
  - レスポンシブデザイン対応

### Icon

**パス**: `packages/ui/src/components/icons/Icon.astro`

**現状**: Starlightスタイルに合わせて改善済み

**タスク**:
- [x] 基本構造の実装
- [x] SVGパスデータの定義
- [x] サイズのカスタマイズオプション
- [x] 色のカスタマイズオプション
- [x] アクセシビリティの向上
- [x] Starlightのデザインに合わせたスタイル調整
- [x] 単位付きサイズ指定のサポート（em、rem、px）
- [x] CSSカスタムプロパティを使用したスタイリング
- [x] アイコンセットの拡張（外部リンク、編集、コピー、成功、ノート、ヒント、重要、注意、ダウンロード、ライト/ダークテーマなど）
- [x] フラグメント（<>...</>）を使用した余分な空白の除去
**詳細**:
  - 様々なアイコンを表示するためのコンポーネント
  - 情報、警告、エラー、チェック、コード、ドキュメント、検索など多数のアイコンをサポート
  - サイズと色をカスタマイズ可能（em、rem、pxなどの単位指定が可能）
  - アクセシビリティ対応（aria-label、aria-hidden）
  - インラインテキスト内での使用に最適化
  - ドキュメントサイトに必要な追加アイコンを多数実装
