---
interface Props {
  /**
   * 編集ページのURL
   */
  url: string;
  
  /**
   * リンクテキスト
   * @default "GitHubで編集"
   */
  text?: string;
  
  /**
   * アイコンを表示するかどうか
   * @default true
   */
  showIcon?: boolean;
}

const { 
  url, 
  text = "GitHubで編集", 
  showIcon = true 
} = Astro.props;
---

{
  url && (
    <a href={url} class="edit-link">
      {showIcon && (
        <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
          <path fill="currentColor" d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83l3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/>
        </svg>
      )}
      {text}
    </a>
  )
}

<style>
  .edit-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--sl-color-gray-3);
    text-decoration: none;
    font-size: var(--sl-text-sm);
    padding: 0.5rem;
    border-radius: 0.25rem;
    transition: color 0.2s ease, background-color 0.2s ease;
  }
  
  .edit-link:hover {
    color: var(--sl-color-white);
    background-color: var(--sl-color-gray-7);
  }
  
  .edit-icon {
    width: 1.2em;
    height: 1.2em;
  }
  
  @media print {
    .edit-link {
      display: none;
    }
  }
</style>
