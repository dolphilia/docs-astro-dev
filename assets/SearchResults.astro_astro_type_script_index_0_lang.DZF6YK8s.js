const C={home:"Home",search:"Search",menu:"Menu",close:"Close",back:"Back",next:"Next",previous:"Previous",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information"},$={docs:"Documentation",api:"API",examples:"Examples",blog:"Blog",community:"Community",github:"GitHub"},R={copyright:"© {year} All rights reserved.",terms:"Terms of Service",privacy:"Privacy Policy",contact:"Contact Us"},I={onThisPage:"On this page",editThisPage:"Edit this page",lastUpdated:"Last updated on {date}",version:"Version",versions:"Versions",language:"Language",languages:"Languages",toc:"Table of Contents",documentation:"Documentation",guide:"Guide",getting_started:"Getting Started",installation:"Installation",configuration:"Configuration",overview:"Overview",reference:"Reference",latest:"Latest",showLatest:"Show latest version",showDiff:"Show version differences"},P={placeholder:"Search documentation...",noResults:"No results found for '{query}'",searchResults:"Search Results",searchIn:"Search in"},S={notFound:"Page not found",notFoundDescription:"The page you are looking for does not exist or has been moved.",goHome:"Go to Home"},M={common:C,navigation:$,footer:R,docs:I,search:P,error:S},T={home:"ホーム",search:"検索",menu:"メニュー",close:"閉じる",back:"戻る",next:"次へ",previous:"前へ",loading:"読み込み中...",error:"エラー",success:"成功",warning:"警告",info:"情報"},j={docs:"ドキュメント",api:"API",examples:"サンプル",blog:"ブログ",community:"コミュニティ",github:"GitHub"},k={copyright:"© {year} All rights reserved.",terms:"利用規約",privacy:"プライバシーポリシー",contact:"お問い合わせ"},B={onThisPage:"このページの内容",editThisPage:"このページを編集",lastUpdated:"最終更新日: {date}",version:"バージョン",versions:"バージョン一覧",language:"言語",languages:"言語一覧",toc:"目次",documentation:"ドキュメント",guide:"ガイド",getting_started:"はじめに",installation:"インストール",configuration:"設定",overview:"概要",reference:"リファレンス",latest:"最新",showLatest:"最新バージョンを表示",showDiff:"バージョン間の差分を表示"},H={placeholder:"ドキュメントを検索...",noResults:"'{query}'に一致する結果が見つかりませんでした",searchResults:"検索結果",searchIn:"検索対象"},D={notFound:"ページが見つかりません",notFoundDescription:"お探しのページは存在しないか、移動された可能性があります。",goHome:"ホームに戻る"},A={common:T,navigation:j,footer:k,docs:B,search:H,error:D},b={en:M,ja:A},m="en";function w(s,n=m,o={}){const a=s.split(".");let e=b[n];e||(e=b[m]);for(const i of a)if(e&&typeof e=="object"&&i in e)e=e[i];else return n!==m?w(s,m,o):s;return typeof e!="string"?s:G(e,o)}function G(s,n){return Object.entries(n).reduce((o,[a,e])=>{const i=new RegExp(`{${a}}`,"g");return o.replace(i,String(e))},s)}const f=document.getElementById("search-results"),h=document.getElementById("search-results-container"),u=document.getElementById("search-loading"),l=document.getElementById("search-empty"),g=document.getElementById("no-results-message"),E=document.getElementById("close-search-results");document.addEventListener("docsearch",s=>{const{query:n}=s.detail;f&&u&&l&&h&&(f.classList.remove("hidden"),u.classList.remove("hidden"),l.classList.add("hidden"),h.querySelectorAll(".search-result-item").forEach(a=>a.remove()),setTimeout(()=>{F(n)},500))});E&&f&&E.addEventListener("click",()=>{f.classList.add("hidden")});async function F(s){if(!u||!l||!h)return;const n=window.location.pathname,o=n.match(/^\/(en|ja)/),a=n.match(/\/(v[0-9]+)/),e=o?o[1]:"en",i=a?a[1]:"v1";try{const v=`/search/index-${e}-${i}.json`,c=await fetch(v);if(!c.ok)throw new Error(`検索インデックスの取得に失敗しました: ${c.status}`);const L=(await c.json()).documents.filter(t=>{const r=t.title.toLowerCase().includes(s.toLowerCase()),d=t.content.toLowerCase().includes(s.toLowerCase());return r||d}).slice(0,10);if(u.classList.add("hidden"),L.length>0)l.classList.add("hidden"),g&&(g.textContent=""),L.forEach(t=>{let r="";if(t.content){const p=t.content.toLowerCase().indexOf(s.toLowerCase());if(p!==-1){const x=Math.max(0,p-50),y=Math.min(t.content.length,p+s.length+50);r=t.content.substring(x,y),x>0&&(r="..."+r),y<t.content.length&&(r+="...")}else r=t.content.substring(0,100)+"..."}const d=document.createElement("div");d.className="search-result-item",d.innerHTML=`
            <a href="${t.url}" class="block">
              <div class="card bg-base-100 shadow-sm hover:shadow-md transition-shadow">
                <div class="card-body p-4">
                  <div class="flex items-center justify-between">
                    <h3 class="card-title text-base">${t.title}</h3>
                    <div class="badge badge-sm">${t.project} ${t.version}</div>
                  </div>
                  <p class="text-sm opacity-70">${r}</p>
                </div>
              </div>
            </a>
          `,h.appendChild(d)});else if(l.classList.remove("hidden"),g){const t=w("search.noResults",e).replace("{query}",s);g.textContent=t}}catch(v){console.error("検索中にエラーが発生しました:",v),u.classList.add("hidden"),l.classList.remove("hidden");const c=document.createElement("div");c.className="alert alert-error",c.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        <span>${w("common.error",e)}</span>
      `,h.appendChild(c)}}
