class f extends HTMLElement{constructor(){super();let t=null;const r=parseInt(this.dataset.minH||"2"),a=parseInt(this.dataset.maxH||"3"),o=Array.from({length:a-r+1},(l,n)=>`h${r+n}`).join(","),c=Array.from(document.querySelectorAll(o)),d=Array.from(this.querySelectorAll("a")),i=()=>{let n;for(const s of c){const{top:e}=s.getBoundingClientRect();if(e<100)n=s;else break}if(n){const s=n.id,e=d.find(u=>u.getAttribute("href")===`#${s}`)||null;e!==t&&(t&&(t.removeAttribute("aria-current"),t.classList.remove("active")),e&&(e.setAttribute("aria-current","true"),e.classList.add("active")),t=e)}};window.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",i,{passive:!0}),window.addEventListener("load",i),setTimeout(i,100)}}customElements.define("starlight-toc",f);
